<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.big15.tradingweb.mapper.InvestingMapper">
	<select id="investingList" resultType="com.big15.tradingweb.dto.InvestingDto">
		SELECT DATE_FORMAT(dates, '%Y-%m-%d') as dates, closes, opens, highs, lows, volumes, changes
		FROM ${names}
		WHERE dates between #{startDate} AND #{endDate}
		ORDER BY dates desc
	</select>

	<select id="investingDateSearchList" resultType="com.big15.tradingweb.dto.InvestingDto">
		SELECT DATE_FORMAT(dates, '%Y-%m-%d') as dates, closes, opens, highs, lows, volumes, changes
		FROM ${names}
		WHERE dates between #{startDate} AND #{endDate}
		ORDER BY dates desc
	</select>

	<select id="chartList" resultType="com.big15.tradingweb.dto.InvestingDto">
		SELECT DATE_FORMAT(dates, '%Y-%m-%d') as dates, opens, highs, lows, closes
		FROM ${names}
		ORDER BY dates asc
	</select>

	<select id="dataList" resultType="com.big15.tradingweb.dto.InvestingDto">
		SELECT DATE_FORMAT(dates, '%Y-%m-%d') as dates, closes, opens, highs, lows, volumes, changes
		FROM aedkrw내역
		WHERE dates between '20221106' AND '20221206'
		ORDER BY dates desc
	</select>
</mapper>